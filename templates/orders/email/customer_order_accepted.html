<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; }
        .header { background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 30px 20px; text-align: center; }
        .content { padding: 30px 20px; }
        .info-block { background: #f8f9fa; padding: 15px; margin-bottom: 15px; border-radius: 5px; border-left: 4px solid #10b981; }
        .price-box { background: #d1fae5; padding: 25px; text-align: center; border-radius: 8px; margin: 20px 0; border: 2px solid #10b981; }
        .button { display: inline-block; padding: 15px 40px; background: #10b981; color: white; text-decoration: none; border-radius: 5px; font-weight: bold; font-size: 16px; }
        .footer { background: #f8f9fa; text-align: center; padding: 20px; color: #666; font-size: 12px; border-top: 1px solid #dee2e6; }
        .status-badge { background: #10b981; color: white; padding: 8px 20px; border-radius: 20px; font-size: 14px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéâ Order Accepted!</h1>
            <p style="font-size: 18px; margin: 10px 0 0 0;">{{ order.order_id }}</p>
        </div>
        
        <div class="content">
            <p>Dear <strong>{{ order.customer.get_full_name }}</strong>,</p>
            
            <p>Great news! Your order has been <strong>accepted</strong> by our team. We're ready to deliver your parcel safely!</p>
            
            <div style="text-align: center; margin: 20px 0;">
                <span class="status-badge">‚úÖ ACCEPTED</span>
            </div>
            
            <div class="price-box">
                <h3 style="margin: 0 0 10px 0; color: #059669;">Final Quote</h3>
                <div style="font-size: 36px; font-weight: bold; color: #10b981; margin: 15px 0;">
                    NZD ${{ order.courier_amount|default:order.auto_calculated_amount }}
                </div>
                <p style="font-size: 13px; color: #059669; margin: 10px 0 0 0;">
                    {{ order.distance_km }} km ‚Ä¢ {{ order.parcel_weight }} kg ‚Ä¢ {{ order.get_parcel_type_display }}
                </p>
            </div>
            
            {% if order.admin_notes %}
            <div style="background: #e7f3ff; padding: 15px; border-radius: 5px; margin: 20px 0;">
                <h4 style="margin-top: 0; color: #0056b3;">üìù Message from Admin:</h4>
                <p style="margin: 0;">{{ order.admin_notes }}</p>
            </div>
            {% endif %}
            
            <div style="background: #fff3cd; padding: 20px; border-radius: 5px; margin: 20px 0; text-align: center;">
                <h3 style="margin: 0 0 15px 0; color: #856404;">‚ö° Next Step: Make Payment</h3>
                <p style="margin: 0 0 15px 0; color: #856404;">
                    Please complete your payment to proceed with the delivery
                </p>
                <a href="{{ order.get_absolute_url }}" class="button" style="background: #f59e0b;">
                    Pay Now - ${{ order.courier_amount|default:order.auto_calculated_amount }}
                </a>
            </div>
            
            <div class="info-block">
                <h3 style="margin-top: 0;">üìç Delivery Route</h3>
                <p><strong>From:</strong> {{ order.pickup_address }}</p>
                <p><strong>To:</strong> {{ order.delivery_address }}</p>
                <p><strong>Distance:</strong> {{ order.distance_km }} km</p>
            </div>
            
            <div style="background: #e7f3ff; padding: 15px; border-radius: 5px;">
                <h4 style="margin-top: 0; color: #0056b3;">üì± What's Next?</h4>
                <ol style="margin: 10px 0; padding-left: 20px; color: #0056b3;">
                    <li><strong>Make Payment:</strong> Click the button above</li>
                    <li><strong>Pickup Scheduled:</strong> We'll collect your parcel</li>
                    <li><strong>Track Live:</strong> Monitor delivery in real-time</li>
                    <li><strong>Delivered:</strong> With photo proof</li>
                </ol>
            </div>
            
            <p style="color: #666; font-size: 13px; margin-top: 30px;">
                <strong>Questions?</strong> Reply to this email or contact us at support@courierpro.com
            </p>
        </div>
        
        <div class="footer">
            <p><strong>Helpii</strong> - Fast & Reliable Courier Services</p>
            <p>Thank you for trusting us with your delivery!</p>
            <p style="margin-top: 15px;">¬© 2024 Helpii. All rights reserved.</p>
        </div>
    </div>
</body>
</html>

